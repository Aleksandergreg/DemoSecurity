<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Public Poll</title>
</head>
<body>
<h1>Vote for Your Favorite Language!</h1>
<button onclick="vote('Java')">Vote Java</button>
<button onclick="vote('Python')">Vote Python</button>
<h2 id="results">Current Results: </h2>

<script>
  async function vote(language) {
    const response = await fetch(`/api/vote?language=${language}`, { method: 'POST' });
    const result = await response.text();
    alert(result);
    getResults();
  }

  async function getResults() {
    const response = await fetch('/api/results');
    const results = await response.text();
    document.getElementById('results').innerText = "Current Results: " + results;
  }

  // Load results on page load
  window.onload = getResults;
</script>
</body>
</html>